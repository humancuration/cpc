scalar UUID

type ImpactReport {
  userId: ID!
  totalImpact: Float!
  breakdown: [ImpactBreakdown!]!
  distribution: [ImpactDistribution!]!
  timeline: [ImpactTimelinePoint!]!
  generatedAt: String!
}

type ImpactBreakdown {
  category: String!
  amount: Float!
  itemName: String!
  contribution: Float!
  impactScore: Float!
}

type ImpactDistribution {
  category: String!
  weight: Float!
}

type ImpactTimelinePoint {
  date: String!
  description: String!
  impactValue: Float!
  timestamp: Int!
  score: Float!
}

type OrganizationImpactReport {
  organizationId: UUID!
  year: Int!
  carbonFootprint: Float!
  communityInvestment: Float!
  diversityMetrics: DiversityMetrics!
  supplyChainScore: Float!
}

type DiversityMetrics {
  genderDiversity: Float!
  ethnicDiversity: Float!
}

type ProcessingStatus {
  jobId: ID!
  status: String!
  progress: Float!
  message: String
  estimatedCompletion: String
}

type Query {
  getImpactReport(userId: ID!): ImpactReport
  getProcessingStatus(jobId: ID!): ProcessingStatus
  getOrganizationImpactReport(orgId: UUID!, year: Int!): OrganizationImpactReport
  communities(first: Int!, after: String): CommunityConnection!
}

type Mutation {
  generateImpactReport(userId: ID!): ProcessingStatus
  createCommunity(name: String!, description: String!): Community!
  joinCommunity(id: ID!): JoinResult!
  leaveCommunity(id: ID!): JoinResult!
}

type Subscription {
  impactReportUpdated(userId: ID!): ImpactReport
}

type Community {
  id: ID!
  name: String!
  description: String!
  memberCount: Int!
  isMember: Boolean!
}

type CommunityEdge {
  cursor: String!
  node: Community!
}

type CommunityConnection {
  edges: [CommunityEdge!]!
  pageInfo: PageInfo!
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
}

type JoinResult {
  community: Community!
  isMember: Boolean!
}